<!DOCTYPE html>
<html lang="en">
<head>
    <title>Edit Transaksi - FlowFinance</title>
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@1.*/css/pico.min.css">
</head>
<body>
    <main class="container">
        <h2>Edit Transaksi</h2>
        <form action="/edit/<%= transaction.id %>" method="POST">
            <label for="amount">Jumlah (Rp)</label>
            <input type="number" name="amount" value="<%= transaction.amount %>" required>

            <label for="description">Deskripsi</label>
            <input type="text" name="description" value="<%= transaction.description %>" required>

            <label for="type">Tipe Transaksi</label>
            <select name="type" required>
                <option value="Expense" <%= transaction.type === 'Expense' ? 'selected' : '' %>>Pengeluaran</option>
                <option value="Income" <%= transaction.type === 'Income' ? 'selected' : '' %>>Pemasukan</option>
            </select>

            <label for="category_id">Kategori</label>
            <select name="category_id" required>
                <% categories.forEach(cat => { %>
                    <option value="<%= cat.id %>" <%= transaction.category_id === cat.id ? 'selected' : '' %>>
                        <%= cat.category_name %>
                    </option>
                <% }) %>
            </select>

            <button type="submit">Update Transaksi</button>
            <a href="/" role="button" class="secondary">Batal</a>
        </form>
    </main>
</body>
</html>